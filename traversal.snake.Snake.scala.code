override def run() {
  while (!positionFinale()){
    baisseBrosse()
    leveBrosse()
    avance()
  }
  baisseBrosse()
  leveBrosse()
}



def finDeLigne(){
  if (estFaceMur){
    if (getDirection==Direction.EST){
      baisseBrosse()
    	leveBrosse()
      gauche()
      avance()
      gauche()
    }else if (getDirection==Direction.OUEST){
      baisseBrosse()
    	leveBrosse()
      droite()
      avance()
      droite()
    }
  }
}


def positionFinale():Boolean={
  if (estFaceMur){
    if (getDirection()==Direction.EST){
      gauche()
      if (estFaceMur){
        droite()
        return true
      }else{
        droite()
        finDeLigne()
        return false
      }
    }else if (getDirection()==Direction.OUEST){
      droite()
      if (estFaceMur){
        gauche()
        return true
      }else{
        gauche()
        finDeLigne()
        return false
      }
    }else{
      return false
    }
  }
  return false
}