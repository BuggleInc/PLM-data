Turmite:33: error: ')' expected but 'if' found.
      if (rule(state)(currentColor)(1)==demiTour){
      ^