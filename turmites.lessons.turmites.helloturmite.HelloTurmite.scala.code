var state = 0;

def step(colors:Array[Color], rule:Array[Array[Array[Int]]] ) {
       rule()()() match {
       	case 
       }
    }
