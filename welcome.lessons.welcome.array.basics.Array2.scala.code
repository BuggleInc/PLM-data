override def run() {
  var T = new Array[Color](getWorldHeight())
  T(0) =getCouleurSol()
  for (i <- 1 to T.length-1){
    avance()
    T(i) = getCouleurSol()
  }
  for (i <- 0 to getWorldHeight()-2 ) {recule()}
  
  for (L <- 0 to getMondeLargeur()-2) {
    //Positionnement
    gauche()
    avance()
    droite()
		val decalage = litMessage().toInt
    marquer( T((decalage) % T.length))
    for (h <- 0 to getMondeHauteur-2) {
      avance()
      marquer( T((h + decalage +1) % T.length))
      
    }
    for (i <- 0 to getWorldHeight()-2 ) {recule()}
  }

}

def marquer(c : Color) {
  setCouleurBrosse(c)
  baisseBrosse()
  leveBrosse()
}