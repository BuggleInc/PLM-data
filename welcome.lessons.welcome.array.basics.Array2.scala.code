def tabcolor ():Array[Color]={
  var tab= new Array[Color](getMondeHauteur())
  tab(0)=getCouleurSol()
  for (i<- 1 to getMondeHauteur()-1){
    avance()
    tab(i)=getCouleurSol()
    
  }
  return tab
}
def useBrosse(c : Color){
  setCouleurBrosse(c)
  baisseBrosse()
  leveBrosse()
  
}


override def run() {
  val m =getMondeLargeur()
  val n=getMondeHauteur()
  var tab=tabcolor()
  recule(n-1)
  gauche()
  avance()
  
  for (j<-0 to getMondeLargeur()-3){
    var cpt:Int=litMessage().toInt
    droite()
    var co:Color=tab((0+cpt)%n)
    useBrosse(co)
    for (l<-1 to getMondeHauteur()-1){
      avance()
      co=tab((l+cpt)%n)
    	useBrosse(co)
   		
    }
  	recule(n-1)
	  gauche()
 	  avance()
}
  var cpt:Int=litMessage().toInt
    droite()
    var co:Color=tab((0+cpt)%n)
    useBrosse(co)
    for (l<-1 to getMondeHauteur()-1){
      avance()
      co=tab((l+cpt)%n)
    	useBrosse(co)
   		
    }
  	recule(n-1)
	  gauche()
  	droite()
  
}