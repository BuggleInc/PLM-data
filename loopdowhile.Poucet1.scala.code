var nbBaggle = 0
while (!exitReached()) {
  for (corridor <- 1 to 5) {
    if (isCarryingBaggle()) {
      nbBaggle = nbBaggle + 1
    }
    forward()
  }
  if (nbBaggle >= 3) {
    left()
  } else {
    right()
  }
}