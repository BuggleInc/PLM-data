override def run() {
	def traceMotif(T:Array[Color],p:Int) {
		setCouleurBrosse(T(p % T.length))
		baisseBrosse()
		leveBrosse()
		for (i <- 1 to T.length - 1) {
			avance()
			setCouleurBrosse(T((i + p) % T.length))
			baisseBrosse()
			leveBrosse()
		}
		for (k <- 1 to getMondeHauteur() - 1) {
			recule()
		}
	}
	var T = new Array[Color](getMondeHauteur())
	T(0) = getCouleurSol()
	for (i <- 1 to T.length - 1) {
		avance()
		T(i) = getCouleurSol()
	}
	for (k <- 1 to getMondeHauteur() - 1) {
			recule()
		}
	for (j <- 1 to getMondeLargeur() - 1) {
		gauche()
		avance()
		droite()
		traceMotif(T,litMessage().toInt)
	}
}
