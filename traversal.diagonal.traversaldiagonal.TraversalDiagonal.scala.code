var diag = 0;
var n = 0;
val x = getWorldWidth();
val y = getWordlHeight();


override def run() {
  while (! isInPosition(x-1,y-1)) match {
    case (_,0) => {
      for (i <- 0 to diag) {
        writeMessage(n)
        n=n+1
        setPosition(diag - i, i)
      }
      diag = diag + 1
      setPosition(diag,0)
    }
    case (x-1,0) => {
      for (i <- 0 to diag) {
        writeMessage(n)
        n=n+1
        setPosition(diag - i, i)
      }
    }
    diag = diag - 1
    setPosition(x-1,y-6)
    case (x-1,_) => {
      for (i <- 0 to diag) {
        writeMessage(n)
        n=n+1
        setPosition(diag - i, i + 2)
      }
     diag = diag - 1
    setPosition(x-1,y-6)
    }
  }
}



def isInPosition(x: Int, y: Int):Boolean = {
  if ( (x == getX()) && (y== getY())) {
    writeMessage((x+1) * (y+1) -1)
    return true
  }
  else {return false}
}


override def run() {
  while (! isInPosition(x,y)) match {
    case (_,0) => {for (X <- 0 to diag){
      for (Y <- diag to 0) {
        setPos(X,Y)
        writeMessage(n)
        n = n + 1
      }
    }
    diag = diag + 1
  }
    case (x-1,_) => {for (X <- 0 to diag){
      for (Y <- diag to 0) {
        setPos(X,Y)
        writeMessage(n)
        n = n + 1
      }
    }
    diag = diag - 1
  }
 }
}