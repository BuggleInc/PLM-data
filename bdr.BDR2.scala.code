while (isOverMessage()==true){
  readMessage() match {
    case "R" => right();forward();
    case "E" => forward();
  }
}